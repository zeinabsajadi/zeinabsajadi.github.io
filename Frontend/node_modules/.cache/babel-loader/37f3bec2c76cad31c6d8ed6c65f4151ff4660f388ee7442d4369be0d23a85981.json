{"ast":null,"code":"import { frame, cancelFrame } from '../frameloop/frame.mjs';\nfunction observeTimeline(update, timeline) {\n  let prevProgress;\n  const onFrame = () => {\n    const {\n      currentTime\n    } = timeline;\n    const percentage = currentTime === null ? 0 : currentTime.value;\n    const progress = percentage / 100;\n    if (prevProgress !== progress) {\n      update(progress);\n    }\n    prevProgress = progress;\n  };\n  frame.preUpdate(onFrame, true);\n  return () => cancelFrame(onFrame);\n}\nexport { observeTimeline };","map":{"version":3,"names":["observeTimeline","update","timeline","prevProgress","onFrame","currentTime","percentage","value","progress","frame","preUpdate","cancelFrame"],"sources":["/home/zeinab/ziblog/Frontend/node_modules/motion-dom/src/scroll/observe.ts"],"sourcesContent":["import { ProgressTimeline } from \"../animation/types\"\nimport { cancelFrame, frame } from \"../frameloop\"\n\ntype Update = (progress: number) => void\n\nexport function observeTimeline(update: Update, timeline: ProgressTimeline) {\n    let prevProgress: number\n\n    const onFrame = () => {\n        const { currentTime } = timeline\n        const percentage = currentTime === null ? 0 : currentTime.value\n        const progress = percentage / 100\n\n        if (prevProgress !== progress) {\n            update(progress)\n        }\n\n        prevProgress = progress\n    }\n\n    frame.preUpdate(onFrame, true)\n\n    return () => cancelFrame(onFrame)\n}\n"],"mappings":";AAKgB,SAAAA,eAAeA,CAACC,MAAc,EAAEC,QAA0B;EACtE,IAAIC,YAAoB;EAExB,MAAMC,OAAO,GAAGA,CAAA,KAAK;IACjB,MAAM;MAAEC;IAAW,CAAE,GAAGH,QAAQ;IAChC,MAAMI,UAAU,GAAGD,WAAW,KAAK,IAAI,GAAG,CAAC,GAAGA,WAAW,CAACE,KAAK;IAC/D,MAAMC,QAAQ,GAAGF,UAAU,GAAG,GAAG;IAEjC,IAAIH,YAAY,KAAKK,QAAQ,EAAE;MAC3BP,MAAM,CAACO,QAAQ,CAAC;;IAGpBL,YAAY,GAAGK,QAAQ;EAC3B,CAAC;EAEDC,KAAK,CAACC,SAAS,CAACN,OAAO,EAAE,IAAI,CAAC;EAE9B,OAAO,MAAMO,WAAW,CAACP,OAAO,CAAC;AACrC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}