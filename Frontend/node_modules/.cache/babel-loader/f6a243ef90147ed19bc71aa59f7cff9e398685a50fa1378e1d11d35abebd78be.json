{"ast":null,"code":"import { parseValueFromTransform } from '../../../render/dom/parse-transform.mjs';\nimport { transformPropOrder } from '../../../render/utils/keys-transform.mjs';\nimport { number } from '../../../value/types/numbers/index.mjs';\nimport { px } from '../../../value/types/numbers/units.mjs';\nconst isNumOrPxType = v => v === number || v === px;\nconst transformKeys = new Set([\"x\", \"y\", \"z\"]);\nconst nonTranslationalTransformKeys = transformPropOrder.filter(key => !transformKeys.has(key));\nfunction removeNonTranslationalTransform(visualElement) {\n  const removedTransforms = [];\n  nonTranslationalTransformKeys.forEach(key => {\n    const value = visualElement.getValue(key);\n    if (value !== undefined) {\n      removedTransforms.push([key, value.get()]);\n      value.set(key.startsWith(\"scale\") ? 1 : 0);\n    }\n  });\n  return removedTransforms;\n}\nconst positionalValues = {\n  // Dimensions\n  width: ({\n    x\n  }, {\n    paddingLeft = \"0\",\n    paddingRight = \"0\"\n  }) => x.max - x.min - parseFloat(paddingLeft) - parseFloat(paddingRight),\n  height: ({\n    y\n  }, {\n    paddingTop = \"0\",\n    paddingBottom = \"0\"\n  }) => y.max - y.min - parseFloat(paddingTop) - parseFloat(paddingBottom),\n  top: (_bbox, {\n    top\n  }) => parseFloat(top),\n  left: (_bbox, {\n    left\n  }) => parseFloat(left),\n  bottom: ({\n    y\n  }, {\n    top\n  }) => parseFloat(top) + (y.max - y.min),\n  right: ({\n    x\n  }, {\n    left\n  }) => parseFloat(left) + (x.max - x.min),\n  // Transform\n  x: (_bbox, {\n    transform\n  }) => parseValueFromTransform(transform, \"x\"),\n  y: (_bbox, {\n    transform\n  }) => parseValueFromTransform(transform, \"y\")\n};\n// Alias translate longform names\npositionalValues.translateX = positionalValues.x;\npositionalValues.translateY = positionalValues.y;\nexport { isNumOrPxType, positionalValues, removeNonTranslationalTransform };","map":{"version":3,"names":["isNumOrPxType","v","number","px","transformKeys","Set","nonTranslationalTransformKeys","transformPropOrder","filter","key","has","removeNonTranslationalTransform","visualElement","removedTransforms","forEach","value","getValue","undefined","push","get","set","startsWith","positionalValues","width","x","paddingLeft","paddingRight","max","min","parseFloat","height","y","paddingTop","paddingBottom","top","_bbox","left","bottom","right","transform","parseValueFromTransform","translateX","translateY"],"sources":["/home/zeinab/ziblog/Frontend/node_modules/motion-dom/src/animation/keyframes/utils/unit-conversion.ts"],"sourcesContent":["import type { Box } from \"motion-utils\"\nimport { parseValueFromTransform } from \"../../../render/dom/parse-transform\"\nimport { transformPropOrder } from \"../../../render/utils/keys-transform\"\nimport { MotionValue } from \"../../../value\"\nimport { number } from \"../../../value/types/numbers\"\nimport { px } from \"../../../value/types/numbers/units\"\nimport { ValueType } from \"../../../value/types/types\"\nimport { AnyResolvedKeyframe } from \"../../types\"\nimport { WithRender } from \"../types\"\n\nexport const isNumOrPxType = (v?: ValueType): v is ValueType =>\n    v === number || v === px\n\ntype GetActualMeasurementInPixels = (\n    bbox: Box,\n    computedStyle: Partial<CSSStyleDeclaration>\n) => number\n\nconst transformKeys = new Set([\"x\", \"y\", \"z\"])\nconst nonTranslationalTransformKeys = transformPropOrder.filter(\n    (key) => !transformKeys.has(key)\n)\n\ntype RemovedTransforms = [string, AnyResolvedKeyframe][]\nexport function removeNonTranslationalTransform(visualElement: WithRender) {\n    const removedTransforms: RemovedTransforms = []\n\n    nonTranslationalTransformKeys.forEach((key) => {\n        const value: MotionValue<AnyResolvedKeyframe> | undefined =\n            visualElement.getValue(key)\n        if (value !== undefined) {\n            removedTransforms.push([key, value.get()])\n            value.set(key.startsWith(\"scale\") ? 1 : 0)\n        }\n    })\n\n    return removedTransforms\n}\n\nexport const positionalValues: { [key: string]: GetActualMeasurementInPixels } =\n    {\n        // Dimensions\n        width: ({ x }, { paddingLeft = \"0\", paddingRight = \"0\" }) =>\n            x.max - x.min - parseFloat(paddingLeft) - parseFloat(paddingRight),\n        height: ({ y }, { paddingTop = \"0\", paddingBottom = \"0\" }) =>\n            y.max - y.min - parseFloat(paddingTop) - parseFloat(paddingBottom),\n\n        top: (_bbox, { top }) => parseFloat(top as string),\n        left: (_bbox, { left }) => parseFloat(left as string),\n        bottom: ({ y }, { top }) => parseFloat(top as string) + (y.max - y.min),\n        right: ({ x }, { left }) =>\n            parseFloat(left as string) + (x.max - x.min),\n\n        // Transform\n        x: (_bbox, { transform }) => parseValueFromTransform(transform, \"x\"),\n        y: (_bbox, { transform }) => parseValueFromTransform(transform, \"y\"),\n    }\n\n// Alias translate longform names\npositionalValues.translateX = positionalValues.x\npositionalValues.translateY = positionalValues.y\n"],"mappings":";;;;AAUa,MAAAA,aAAa,GAAIC,CAAa,IACvCA,CAAC,KAAKC,MAAM,IAAID,CAAC,KAAKE,EAAA;AAO1B,MAAMC,aAAa,GAAG,IAAIC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AAC9C,MAAMC,6BAA6B,GAAGC,kBAAkB,CAACC,MAAM,CAC1DC,GAAG,IAAK,CAACL,aAAa,CAACM,GAAG,CAACD,GAAG,CAAC,CACnC;AAGK,SAAUE,+BAA+BA,CAACC,aAAyB;EACrE,MAAMC,iBAAiB,GAAsB,EAAE;EAE/CP,6BAA6B,CAACQ,OAAO,CAAEL,GAAG,IAAI;IAC1C,MAAMM,KAAK,GACPH,aAAa,CAACI,QAAQ,CAACP,GAAG,CAAC;IAC/B,IAAIM,KAAK,KAAKE,SAAS,EAAE;MACrBJ,iBAAiB,CAACK,IAAI,CAAC,CAACT,GAAG,EAAEM,KAAK,CAACI,GAAG,EAAE,CAAC,CAAC;MAC1CJ,KAAK,CAACK,GAAG,CAACX,GAAG,CAACY,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;EAElD,CAAC,CAAC;EAEF,OAAOR,iBAAiB;AAC5B;AAEa,MAAAS,gBAAgB,GACzB;;EAEIC,KAAK,EAAEA,CAAC;IAAEC;EAAC,CAAE,EAAE;IAAEC,WAAW,GAAG,GAAG;IAAEC,YAAY,GAAG;EAAG,CAAE,KACpDF,CAAC,CAACG,GAAG,GAAGH,CAAC,CAACI,GAAG,GAAGC,UAAU,CAACJ,WAAW,CAAC,GAAGI,UAAU,CAACH,YAAY,CAAC;EACtEI,MAAM,EAAEA,CAAC;IAAEC;EAAC,CAAE,EAAE;IAAEC,UAAU,GAAG,GAAG;IAAEC,aAAa,GAAG;EAAG,CAAE,KACrDF,CAAC,CAACJ,GAAG,GAAGI,CAAC,CAACH,GAAG,GAAGC,UAAU,CAACG,UAAU,CAAC,GAAGH,UAAU,CAACI,aAAa,CAAC;EAEtEC,GAAG,EAAEA,CAACC,KAAK,EAAE;IAAED;EAAG,CAAE,KAAKL,UAAU,CAACK,GAAa,CAAC;EAClDE,IAAI,EAAEA,CAACD,KAAK,EAAE;IAAEC;EAAI,CAAE,KAAKP,UAAU,CAACO,IAAc,CAAC;EACrDC,MAAM,EAAEA,CAAC;IAAEN;EAAC,CAAE,EAAE;IAAEG;EAAG,CAAE,KAAKL,UAAU,CAACK,GAAa,CAAC,IAAIH,CAAC,CAACJ,GAAG,GAAGI,CAAC,CAACH,GAAG,CAAC;EACvEU,KAAK,EAAEA,CAAC;IAAEd;EAAC,CAAE,EAAE;IAAEY;EAAI,CAAE,KACnBP,UAAU,CAACO,IAAc,CAAC,IAAIZ,CAAC,CAACG,GAAG,GAAGH,CAAC,CAACI,GAAG,CAAC;;EAGhDJ,CAAC,EAAEA,CAACW,KAAK,EAAE;IAAEI;EAAS,CAAE,KAAKC,uBAAuB,CAACD,SAAS,EAAE,GAAG,CAAC;EACpER,CAAC,EAAEA,CAACI,KAAK,EAAE;IAAEI;EAAS,CAAE,KAAKC,uBAAuB,CAACD,SAAS,EAAE,GAAG;;AAG3E;AACAjB,gBAAgB,CAACmB,UAAU,GAAGnB,gBAAgB,CAACE,CAAC;AAChDF,gBAAgB,CAACoB,UAAU,GAAGpB,gBAAgB,CAACS,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}