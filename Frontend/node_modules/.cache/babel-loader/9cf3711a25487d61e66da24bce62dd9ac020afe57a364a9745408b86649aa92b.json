{"ast":null,"code":"import { isCSSVar } from '../../render/dom/is-css-var.mjs';\nimport { transformProps } from '../../render/utils/keys-transform.mjs';\nimport { isHTMLElement } from '../../utils/is-html-element.mjs';\nimport { MotionValue } from '../../value/index.mjs';\nimport { createSelectorEffect } from '../utils/create-dom-effect.mjs';\nimport { createEffect } from '../utils/create-effect.mjs';\nimport { buildTransform } from './transform.mjs';\nconst originProps = new Set([\"originX\", \"originY\", \"originZ\"]);\nconst addStyleValue = (element, state, key, value) => {\n  let render = undefined;\n  let computed = undefined;\n  if (transformProps.has(key)) {\n    if (!state.get(\"transform\")) {\n      // If this is an HTML element, we need to set the transform-box to fill-box\n      // to normalise the transform relative to the element's bounding box\n      if (!isHTMLElement(element) && !state.get(\"transformBox\")) {\n        addStyleValue(element, state, \"transformBox\", new MotionValue(\"fill-box\"));\n      }\n      state.set(\"transform\", new MotionValue(\"none\"), () => {\n        element.style.transform = buildTransform(state);\n      });\n    }\n    computed = state.get(\"transform\");\n  } else if (originProps.has(key)) {\n    if (!state.get(\"transformOrigin\")) {\n      state.set(\"transformOrigin\", new MotionValue(\"\"), () => {\n        const originX = state.latest.originX ?? \"50%\";\n        const originY = state.latest.originY ?? \"50%\";\n        const originZ = state.latest.originZ ?? 0;\n        element.style.transformOrigin = `${originX} ${originY} ${originZ}`;\n      });\n    }\n    computed = state.get(\"transformOrigin\");\n  } else if (isCSSVar(key)) {\n    render = () => {\n      element.style.setProperty(key, state.latest[key]);\n    };\n  } else {\n    render = () => {\n      element.style[key] = state.latest[key];\n    };\n  }\n  return state.set(key, value, render, computed);\n};\nconst styleEffect = /*@__PURE__*/createSelectorEffect(/*@__PURE__*/createEffect(addStyleValue));\nexport { addStyleValue, styleEffect };","map":{"version":3,"names":["originProps","Set","addStyleValue","element","state","key","value","render","undefined","computed","transformProps","has","get","isHTMLElement","MotionValue","set","style","transform","buildTransform","originX","latest","originY","originZ","transformOrigin","isCSSVar","setProperty","styleEffect","createSelectorEffect","createEffect"],"sources":["/home/zeinab/ziblog/Frontend/node_modules/motion-dom/src/effects/style/index.ts"],"sourcesContent":["import { isCSSVar } from \"../../render/dom/is-css-var\"\nimport { transformProps } from \"../../render/utils/keys-transform\"\nimport { isHTMLElement } from \"../../utils/is-html-element\"\nimport { MotionValue } from \"../../value\"\nimport { MotionValueState } from \"../MotionValueState\"\nimport { createSelectorEffect } from \"../utils/create-dom-effect\"\nimport { createEffect } from \"../utils/create-effect\"\nimport { buildTransform } from \"./transform\"\n\nconst originProps = new Set([\"originX\", \"originY\", \"originZ\"])\n\nexport const addStyleValue = (\n    element: HTMLElement | SVGElement,\n    state: MotionValueState,\n    key: string,\n    value: MotionValue\n) => {\n    let render: VoidFunction | undefined = undefined\n    let computed: MotionValue | undefined = undefined\n\n    if (transformProps.has(key)) {\n        if (!state.get(\"transform\")) {\n            // If this is an HTML element, we need to set the transform-box to fill-box\n            // to normalise the transform relative to the element's bounding box\n            if (!isHTMLElement(element) && !state.get(\"transformBox\")) {\n                addStyleValue(\n                    element,\n                    state,\n                    \"transformBox\",\n                    new MotionValue(\"fill-box\")\n                )\n            }\n\n            state.set(\"transform\", new MotionValue(\"none\"), () => {\n                element.style.transform = buildTransform(state)\n            })\n        }\n\n        computed = state.get(\"transform\")\n    } else if (originProps.has(key)) {\n        if (!state.get(\"transformOrigin\")) {\n            state.set(\"transformOrigin\", new MotionValue(\"\"), () => {\n                const originX = state.latest.originX ?? \"50%\"\n                const originY = state.latest.originY ?? \"50%\"\n                const originZ = state.latest.originZ ?? 0\n                element.style.transformOrigin = `${originX} ${originY} ${originZ}`\n            })\n        }\n\n        computed = state.get(\"transformOrigin\")\n    } else if (isCSSVar(key)) {\n        render = () => {\n            element.style.setProperty(key, state.latest[key] as string)\n        }\n    } else {\n        render = () => {\n            element.style[key as any] = state.latest[key] as string\n        }\n    }\n\n    return state.set(key, value, render, computed)\n}\n\nexport const styleEffect = /*@__PURE__*/ createSelectorEffect(\n    /*@__PURE__*/ createEffect(addStyleValue)\n)\n"],"mappings":";;;;;;;AASA,MAAMA,WAAW,GAAG,IAAIC,GAAG,CAAC,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;AAEvD,MAAMC,aAAa,GAAGA,CACzBC,OAAiC,EACjCC,KAAuB,EACvBC,GAAW,EACXC,KAAkB,KAClB;EACA,IAAIC,MAAM,GAA6BC,SAAS;EAChD,IAAIC,QAAQ,GAA4BD,SAAS;EAEjD,IAAIE,cAAc,CAACC,GAAG,CAACN,GAAG,CAAC,EAAE;IACzB,IAAI,CAACD,KAAK,CAACQ,GAAG,CAAC,WAAW,CAAC,EAAE;;;MAGzB,IAAI,CAACC,aAAa,CAACV,OAAO,CAAC,IAAI,CAACC,KAAK,CAACQ,GAAG,CAAC,cAAc,CAAC,EAAE;QACvDV,aAAa,CACTC,OAAO,EACPC,KAAK,EACL,cAAc,EACd,IAAIU,WAAW,CAAC,UAAU,CAAC,CAC9B;;MAGLV,KAAK,CAACW,GAAG,CAAC,WAAW,EAAE,IAAID,WAAW,CAAC,MAAM,CAAC,EAAE,MAAK;QACjDX,OAAO,CAACa,KAAK,CAACC,SAAS,GAAGC,cAAc,CAACd,KAAK,CAAC;MACnD,CAAC,CAAC;;IAGNK,QAAQ,GAAGL,KAAK,CAACQ,GAAG,CAAC,WAAW,CAAC;GACpC,MAAM,IAAIZ,WAAW,CAACW,GAAG,CAACN,GAAG,CAAC,EAAE;IAC7B,IAAI,CAACD,KAAK,CAACQ,GAAG,CAAC,iBAAiB,CAAC,EAAE;MAC/BR,KAAK,CAACW,GAAG,CAAC,iBAAiB,EAAE,IAAID,WAAW,CAAC,EAAE,CAAC,EAAE,MAAK;QACnD,MAAMK,OAAO,GAAGf,KAAK,CAACgB,MAAM,CAACD,OAAO,IAAI,KAAK;QAC7C,MAAME,OAAO,GAAGjB,KAAK,CAACgB,MAAM,CAACC,OAAO,IAAI,KAAK;QAC7C,MAAMC,OAAO,GAAGlB,KAAK,CAACgB,MAAM,CAACE,OAAO,IAAI,CAAC;QACzCnB,OAAO,CAACa,KAAK,CAACO,eAAe,GAAG,GAAGJ,OAAO,IAAIE,OAAO,IAAIC,OAAO,EAAE;MACtE,CAAC,CAAC;;IAGNb,QAAQ,GAAGL,KAAK,CAACQ,GAAG,CAAC,iBAAiB,CAAC;GAC1C,MAAM,IAAIY,QAAQ,CAACnB,GAAG,CAAC,EAAE;IACtBE,MAAM,GAAGA,CAAA,KAAK;MACVJ,OAAO,CAACa,KAAK,CAACS,WAAW,CAACpB,GAAG,EAAED,KAAK,CAACgB,MAAM,CAACf,GAAG,CAAW,CAAC;IAC/D,CAAC;GACJ,MAAM;IACHE,MAAM,GAAGA,CAAA,KAAK;MACVJ,OAAO,CAACa,KAAK,CAACX,GAAU,CAAC,GAAGD,KAAK,CAACgB,MAAM,CAACf,GAAG,CAAW;IAC3D,CAAC;;EAGL,OAAOD,KAAK,CAACW,GAAG,CAACV,GAAG,EAAEC,KAAK,EAAEC,MAAM,EAAEE,QAAQ,CAAC;AAClD;AAEa,MAAAiB,WAAW,gBAAiBC,oBAAoB,CACzD,aAAcC,YAAY,CAAC1B,aAAa,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}