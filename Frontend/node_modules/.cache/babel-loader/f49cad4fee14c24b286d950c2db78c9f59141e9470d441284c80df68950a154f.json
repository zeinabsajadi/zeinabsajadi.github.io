{"ast":null,"code":"import { MotionGlobalConfig } from 'motion-utils';\nimport { frameData } from './frame.mjs';\nlet now;\nfunction clearTime() {\n  now = undefined;\n}\n/**\n * An eventloop-synchronous alternative to performance.now().\n *\n * Ensures that time measurements remain consistent within a synchronous context.\n * Usually calling performance.now() twice within the same synchronous context\n * will return different values which isn't useful for animations when we're usually\n * trying to sync animations to the same frame.\n */\nconst time = {\n  now: () => {\n    if (now === undefined) {\n      time.set(frameData.isProcessing || MotionGlobalConfig.useManualTiming ? frameData.timestamp : performance.now());\n    }\n    return now;\n  },\n  set: newTime => {\n    now = newTime;\n    queueMicrotask(clearTime);\n  }\n};\nexport { time };","map":{"version":3,"names":["now","clearTime","undefined","time","set","frameData","isProcessing","MotionGlobalConfig","useManualTiming","timestamp","performance","newTime","queueMicrotask"],"sources":["/home/zeinab/ziblog/Frontend/node_modules/motion-dom/src/frameloop/sync-time.ts"],"sourcesContent":["import { MotionGlobalConfig } from \"motion-utils\"\nimport { frameData } from \"./frame\"\n\nlet now: number | undefined\n\nfunction clearTime() {\n    now = undefined\n}\n\n/**\n * An eventloop-synchronous alternative to performance.now().\n *\n * Ensures that time measurements remain consistent within a synchronous context.\n * Usually calling performance.now() twice within the same synchronous context\n * will return different values which isn't useful for animations when we're usually\n * trying to sync animations to the same frame.\n */\nexport const time = {\n    now: (): number => {\n        if (now === undefined) {\n            time.set(\n                frameData.isProcessing || MotionGlobalConfig.useManualTiming\n                    ? frameData.timestamp\n                    : performance.now()\n            )\n        }\n\n        return now!\n    },\n    set: (newTime: number) => {\n        now = newTime\n        queueMicrotask(clearTime)\n    },\n}\n"],"mappings":";;AAGA,IAAIA,GAAuB;AAE3B,SAASC,SAASA,CAAA;EACdD,GAAG,GAAGE,SAAS;AACnB;AAEA;;;;;;;AAOG;AACU,MAAAC,IAAI,GAAG;EAChBH,GAAG,EAAEA,CAAA,KAAa;IACd,IAAIA,GAAG,KAAKE,SAAS,EAAE;MACnBC,IAAI,CAACC,GAAG,CACJC,SAAS,CAACC,YAAY,IAAIC,kBAAkB,CAACC,eAAe,GACtDH,SAAS,CAACI,SAAS,GACnBC,WAAW,CAACV,GAAG,EAAE,CAC1B;;IAGL,OAAOA,GAAI;GACd;EACDI,GAAG,EAAGO,OAAe,IAAI;IACrBX,GAAG,GAAGW,OAAO;IACbC,cAAc,CAACX,SAAS,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}