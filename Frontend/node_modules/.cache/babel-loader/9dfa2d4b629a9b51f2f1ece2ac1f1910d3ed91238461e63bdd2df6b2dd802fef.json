{"ast":null,"code":"import { scrollInfo } from '../track.mjs';\nimport { canUseNativeTimeline } from './can-use-native-timeline.mjs';\nconst timelineCache = new Map();\nfunction scrollTimelineFallback(options) {\n  const currentTime = {\n    value: 0\n  };\n  const cancel = scrollInfo(info => {\n    currentTime.value = info[options.axis].progress * 100;\n  }, options);\n  return {\n    currentTime,\n    cancel\n  };\n}\nfunction getTimeline({\n  source,\n  container,\n  ...options\n}) {\n  const {\n    axis\n  } = options;\n  if (source) container = source;\n  const containerCache = timelineCache.get(container) ?? new Map();\n  timelineCache.set(container, containerCache);\n  const targetKey = options.target ?? \"self\";\n  const targetCache = containerCache.get(targetKey) ?? {};\n  const axisKey = axis + (options.offset ?? []).join(\",\");\n  if (!targetCache[axisKey]) {\n    targetCache[axisKey] = canUseNativeTimeline(options.target) ? new ScrollTimeline({\n      source: container,\n      axis\n    }) : scrollTimelineFallback({\n      container,\n      ...options\n    });\n  }\n  return targetCache[axisKey];\n}\nexport { getTimeline };","map":{"version":3,"names":["timelineCache","Map","scrollTimelineFallback","options","currentTime","value","cancel","scrollInfo","info","axis","progress","getTimeline","source","container","containerCache","get","set","targetKey","target","targetCache","axisKey","offset","join","canUseNativeTimeline","ScrollTimeline"],"sources":["/home/zeinab/ziblog/Frontend/node_modules/framer-motion/src/render/dom/scroll/utils/get-timeline.ts"],"sourcesContent":["import { ProgressTimeline } from \"motion-dom\"\nimport { scrollInfo } from \"../track\"\nimport { ScrollOptionsWithDefaults } from \"../types\"\nimport { canUseNativeTimeline } from \"./can-use-native-timeline\"\n\ndeclare global {\n    interface Window {\n        ScrollTimeline: ScrollTimeline\n    }\n}\n\ndeclare class ScrollTimeline implements ProgressTimeline {\n    constructor(options: ScrollOptions)\n\n    currentTime: null | { value: number }\n\n    cancel?: VoidFunction\n}\n\nconst timelineCache = new Map<\n    Element,\n    Map<Element | \"self\", { x?: ProgressTimeline; y?: ProgressTimeline }>\n>()\n\nfunction scrollTimelineFallback(options: ScrollOptionsWithDefaults) {\n    const currentTime = { value: 0 }\n\n    const cancel = scrollInfo((info) => {\n        currentTime.value = info[options.axis!].progress * 100\n    }, options)\n\n    return { currentTime, cancel }\n}\n\nexport function getTimeline({\n    source,\n    container,\n    ...options\n}: ScrollOptionsWithDefaults): ProgressTimeline {\n    const { axis } = options\n\n    if (source) container = source\n\n    const containerCache = timelineCache.get(container) ?? new Map()\n    timelineCache.set(container, containerCache)\n\n    const targetKey = options.target ?? \"self\"\n    const targetCache = containerCache.get(targetKey) ?? {}\n\n    const axisKey = axis + (options.offset ?? []).join(\",\")\n\n    if (!targetCache[axisKey]) {\n        targetCache[axisKey] =\n            canUseNativeTimeline(options.target)\n                ? new ScrollTimeline({ source: container, axis } as any)\n                : scrollTimelineFallback({ container, ...options })\n    }\n\n    return targetCache[axisKey]!\n}\n"],"mappings":";;AAmBA,MAAMA,aAAa,GAAG,IAAIC,GAAG,EAG1B;AAEH,SAASC,sBAAsBA,CAACC,OAAkC;EAC9D,MAAMC,WAAW,GAAG;IAAEC,KAAK,EAAE;EAAC,CAAE;EAEhC,MAAMC,MAAM,GAAGC,UAAU,CAAEC,IAAI,IAAI;IAC/BJ,WAAW,CAACC,KAAK,GAAGG,IAAI,CAACL,OAAO,CAACM,IAAK,CAAC,CAACC,QAAQ,GAAG,GAAG;GACzD,EAAEP,OAAO,CAAC;EAEX,OAAO;IAAEC,WAAW;IAAEE;EAAM,CAAE;AAClC;AAEM,SAAUK,WAAWA,CAAC;EACxBC,MAAM;EACNC,SAAS;EACT,GAAGV;AAAO,CACc;EACxB,MAAM;IAAEM;EAAI,CAAE,GAAGN,OAAO;EAExB,IAAIS,MAAM,EAAEC,SAAS,GAAGD,MAAM;EAE9B,MAAME,cAAc,GAAGd,aAAa,CAACe,GAAG,CAACF,SAAS,CAAC,IAAI,IAAIZ,GAAG,EAAE;EAChED,aAAa,CAACgB,GAAG,CAACH,SAAS,EAAEC,cAAc,CAAC;EAE5C,MAAMG,SAAS,GAAGd,OAAO,CAACe,MAAM,IAAI,MAAM;EAC1C,MAAMC,WAAW,GAAGL,cAAc,CAACC,GAAG,CAACE,SAAS,CAAC,IAAI,EAAE;EAEvD,MAAMG,OAAO,GAAGX,IAAI,GAAG,CAACN,OAAO,CAACkB,MAAM,IAAI,EAAE,EAAEC,IAAI,CAAC,GAAG,CAAC;EAEvD,IAAI,CAACH,WAAW,CAACC,OAAO,CAAC,EAAE;IACvBD,WAAW,CAACC,OAAO,CAAC,GAChBG,oBAAoB,CAACpB,OAAO,CAACe,MAAM,CAAC,GAC9B,IAAIM,cAAc,CAAC;MAAEZ,MAAM,EAAEC,SAAS;MAAEJ;IAAI,CAAS,CAAC,GACtDP,sBAAsB,CAAC;MAAEW,SAAS;MAAE,GAAGV;IAAO,CAAE,CAAC;;EAG/D,OAAOgB,WAAW,CAACC,OAAO,CAAE;AAChC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}