{"ast":null,"code":"import { noop } from 'motion-utils';\nimport { addToQueue } from './queue.mjs';\nclass ViewTransitionBuilder {\n  constructor(update, options = {}) {\n    this.currentSubject = \"root\";\n    this.targets = new Map();\n    this.notifyReady = noop;\n    this.readyPromise = new Promise(resolve => {\n      this.notifyReady = resolve;\n    });\n    this.update = update;\n    this.options = {\n      interrupt: \"wait\",\n      ...options\n    };\n    addToQueue(this);\n  }\n  get(subject) {\n    this.currentSubject = subject;\n    return this;\n  }\n  layout(keyframes, options) {\n    this.updateTarget(\"layout\", keyframes, options);\n    return this;\n  }\n  new(keyframes, options) {\n    this.updateTarget(\"new\", keyframes, options);\n    return this;\n  }\n  old(keyframes, options) {\n    this.updateTarget(\"old\", keyframes, options);\n    return this;\n  }\n  enter(keyframes, options) {\n    this.updateTarget(\"enter\", keyframes, options);\n    return this;\n  }\n  exit(keyframes, options) {\n    this.updateTarget(\"exit\", keyframes, options);\n    return this;\n  }\n  crossfade(options) {\n    this.updateTarget(\"enter\", {\n      opacity: 1\n    }, options);\n    this.updateTarget(\"exit\", {\n      opacity: 0\n    }, options);\n    return this;\n  }\n  updateTarget(target, keyframes, options = {}) {\n    const {\n      currentSubject,\n      targets\n    } = this;\n    if (!targets.has(currentSubject)) {\n      targets.set(currentSubject, {});\n    }\n    const targetData = targets.get(currentSubject);\n    targetData[target] = {\n      keyframes,\n      options\n    };\n  }\n  then(resolve, reject) {\n    return this.readyPromise.then(resolve, reject);\n  }\n}\nfunction animateView(update, defaultOptions = {}) {\n  return new ViewTransitionBuilder(update, defaultOptions);\n}\nexport { ViewTransitionBuilder, animateView };","map":{"version":3,"names":["ViewTransitionBuilder","constructor","update","options","currentSubject","targets","Map","notifyReady","noop","readyPromise","Promise","resolve","interrupt","addToQueue","get","subject","layout","keyframes","updateTarget","new","old","enter","exit","crossfade","opacity","target","has","set","targetData","then","reject","animateView","defaultOptions"],"sources":["/home/zeinab/ziblog/Frontend/node_modules/motion-dom/src/view/index.ts"],"sourcesContent":["import { noop } from \"motion-utils\"\nimport type { GroupAnimation } from \"../animation/GroupAnimation\"\nimport { AnimationOptions, DOMKeyframesDefinition } from \"../animation/types\"\nimport { addToQueue } from \"./queue\"\nimport {\n    ViewTransitionOptions,\n    ViewTransitionTarget,\n    ViewTransitionTargetDefinition,\n} from \"./types\"\nimport \"./types.global\"\n\nexport class ViewTransitionBuilder {\n    private currentSubject: ViewTransitionTargetDefinition = \"root\"\n\n    targets = new Map<ViewTransitionTargetDefinition, ViewTransitionTarget>()\n\n    update: () => void | Promise<void>\n\n    options: ViewTransitionOptions\n\n    notifyReady: (value: GroupAnimation) => void = noop\n\n    private readyPromise = new Promise<GroupAnimation>((resolve) => {\n        this.notifyReady = resolve\n    })\n\n    constructor(\n        update: () => void | Promise<void>,\n        options: ViewTransitionOptions = {}\n    ) {\n        this.update = update\n        this.options = {\n            interrupt: \"wait\",\n            ...options,\n        }\n        addToQueue(this)\n    }\n\n    get(subject: ViewTransitionTargetDefinition) {\n        this.currentSubject = subject\n\n        return this\n    }\n\n    layout(keyframes: DOMKeyframesDefinition, options?: AnimationOptions) {\n        this.updateTarget(\"layout\", keyframes, options)\n\n        return this\n    }\n\n    new(keyframes: DOMKeyframesDefinition, options?: AnimationOptions) {\n        this.updateTarget(\"new\", keyframes, options)\n\n        return this\n    }\n\n    old(keyframes: DOMKeyframesDefinition, options?: AnimationOptions) {\n        this.updateTarget(\"old\", keyframes, options)\n\n        return this\n    }\n\n    enter(keyframes: DOMKeyframesDefinition, options?: AnimationOptions) {\n        this.updateTarget(\"enter\", keyframes, options)\n\n        return this\n    }\n\n    exit(keyframes: DOMKeyframesDefinition, options?: AnimationOptions) {\n        this.updateTarget(\"exit\", keyframes, options)\n\n        return this\n    }\n\n    crossfade(options?: AnimationOptions) {\n        this.updateTarget(\"enter\", { opacity: 1 }, options)\n        this.updateTarget(\"exit\", { opacity: 0 }, options)\n\n        return this\n    }\n\n    updateTarget(\n        target: \"enter\" | \"exit\" | \"layout\" | \"new\" | \"old\",\n        keyframes: DOMKeyframesDefinition,\n        options: AnimationOptions = {}\n    ) {\n        const { currentSubject, targets } = this\n\n        if (!targets.has(currentSubject)) {\n            targets.set(currentSubject, {})\n        }\n\n        const targetData = targets.get(currentSubject)!\n\n        targetData[target] = { keyframes, options }\n    }\n\n    then(resolve: () => void, reject?: () => void) {\n        return this.readyPromise.then(resolve, reject)\n    }\n}\n\nexport function animateView(\n    update: () => void | Promise<void>,\n    defaultOptions: ViewTransitionOptions = {}\n) {\n    return new ViewTransitionBuilder(update, defaultOptions)\n}\n"],"mappings":";;MAWaA,qBAAqB;EAe9BC,WACIA,CAAAC,MAAkC,EAClCC,OAAA,GAAiC,EAAE;IAhB/B,IAAc,CAAAC,cAAA,GAAmC,MAAM;IAE/D,KAAAC,OAAO,GAAG,IAAIC,GAAG,EAAwD;IAMzE,IAAW,CAAAC,WAAA,GAAoCC,IAAI;IAE3C,KAAAC,YAAY,GAAG,IAAIC,OAAO,CAAkBC,OAAO,IAAI;MAC3D,IAAI,CAACJ,WAAW,GAAGI,OAAO;IAC9B,CAAC,CAAC;IAME,IAAI,CAACT,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,OAAO,GAAG;MACXS,SAAS,EAAE,MAAM;MACjB,GAAGT;KACN;IACDU,UAAU,CAAC,IAAI,CAAC;;EAGpBC,GAAGA,CAACC,OAAuC;IACvC,IAAI,CAACX,cAAc,GAAGW,OAAO;IAE7B,OAAO,IAAI;;EAGfC,MAAMA,CAACC,SAAiC,EAAEd,OAA0B;IAChE,IAAI,CAACe,YAAY,CAAC,QAAQ,EAAED,SAAS,EAAEd,OAAO,CAAC;IAE/C,OAAO,IAAI;;EAGfgB,GAAGA,CAACF,SAAiC,EAAEd,OAA0B;IAC7D,IAAI,CAACe,YAAY,CAAC,KAAK,EAAED,SAAS,EAAEd,OAAO,CAAC;IAE5C,OAAO,IAAI;;EAGfiB,GAAGA,CAACH,SAAiC,EAAEd,OAA0B;IAC7D,IAAI,CAACe,YAAY,CAAC,KAAK,EAAED,SAAS,EAAEd,OAAO,CAAC;IAE5C,OAAO,IAAI;;EAGfkB,KAAKA,CAACJ,SAAiC,EAAEd,OAA0B;IAC/D,IAAI,CAACe,YAAY,CAAC,OAAO,EAAED,SAAS,EAAEd,OAAO,CAAC;IAE9C,OAAO,IAAI;;EAGfmB,IAAIA,CAACL,SAAiC,EAAEd,OAA0B;IAC9D,IAAI,CAACe,YAAY,CAAC,MAAM,EAAED,SAAS,EAAEd,OAAO,CAAC;IAE7C,OAAO,IAAI;;EAGfoB,SAASA,CAACpB,OAA0B;IAChC,IAAI,CAACe,YAAY,CAAC,OAAO,EAAE;MAAEM,OAAO,EAAE;IAAC,CAAE,EAAErB,OAAO,CAAC;IACnD,IAAI,CAACe,YAAY,CAAC,MAAM,EAAE;MAAEM,OAAO,EAAE;IAAC,CAAE,EAAErB,OAAO,CAAC;IAElD,OAAO,IAAI;;EAGfe,YAAYA,CACRO,MAAmD,EACnDR,SAAiC,EACjCd,OAAA,GAA4B,EAAE;IAE9B,MAAM;MAAEC,cAAc;MAAEC;IAAO,CAAE,GAAG,IAAI;IAExC,IAAI,CAACA,OAAO,CAACqB,GAAG,CAACtB,cAAc,CAAC,EAAE;MAC9BC,OAAO,CAACsB,GAAG,CAACvB,cAAc,EAAE,EAAE,CAAC;;IAGnC,MAAMwB,UAAU,GAAGvB,OAAO,CAACS,GAAG,CAACV,cAAc,CAAE;IAE/CwB,UAAU,CAACH,MAAM,CAAC,GAAG;MAAER,SAAS;MAAEd;IAAO,CAAE;;EAG/C0B,IAAIA,CAAClB,OAAmB,EAAEmB,MAAmB;IACzC,OAAO,IAAI,CAACrB,YAAY,CAACoB,IAAI,CAAClB,OAAO,EAAEmB,MAAM,CAAC;;AAErD;SAEeC,WAAWA,CACvB7B,MAAkC,EAClC8B,cAAA,GAAwC,EAAE;EAE1C,OAAO,IAAIhC,qBAAqB,CAACE,MAAM,EAAE8B,cAAc,CAAC;AAC5D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}