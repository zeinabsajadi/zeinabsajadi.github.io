{"ast":null,"code":"import { isPressing } from './state.mjs';\n\n/**\n * Filter out events that are not \"Enter\" keys.\n */\nfunction filterEvents(callback) {\n  return event => {\n    if (event.key !== \"Enter\") return;\n    callback(event);\n  };\n}\nfunction firePointerEvent(target, type) {\n  target.dispatchEvent(new PointerEvent(\"pointer\" + type, {\n    isPrimary: true,\n    bubbles: true\n  }));\n}\nconst enableKeyboardPress = (focusEvent, eventOptions) => {\n  const element = focusEvent.currentTarget;\n  if (!element) return;\n  const handleKeydown = filterEvents(() => {\n    if (isPressing.has(element)) return;\n    firePointerEvent(element, \"down\");\n    const handleKeyup = filterEvents(() => {\n      firePointerEvent(element, \"up\");\n    });\n    const handleBlur = () => firePointerEvent(element, \"cancel\");\n    element.addEventListener(\"keyup\", handleKeyup, eventOptions);\n    element.addEventListener(\"blur\", handleBlur, eventOptions);\n  });\n  element.addEventListener(\"keydown\", handleKeydown, eventOptions);\n  /**\n   * Add an event listener that fires on blur to remove the keydown events.\n   */\n  element.addEventListener(\"blur\", () => element.removeEventListener(\"keydown\", handleKeydown), eventOptions);\n};\nexport { enableKeyboardPress };","map":{"version":3,"names":["filterEvents","callback","event","key","firePointerEvent","target","type","dispatchEvent","PointerEvent","isPrimary","bubbles","enableKeyboardPress","focusEvent","eventOptions","element","currentTarget","handleKeydown","isPressing","has","handleKeyup","handleBlur","addEventListener","removeEventListener"],"sources":["/home/zeinab/ziblog/Frontend/node_modules/motion-dom/src/gestures/press/utils/keyboard.ts"],"sourcesContent":["import { isPressing } from \"./state\"\n\n/**\n * Filter out events that are not \"Enter\" keys.\n */\nfunction filterEvents(callback: (event: KeyboardEvent) => void) {\n    return (event: KeyboardEvent) => {\n        if (event.key !== \"Enter\") return\n        callback(event)\n    }\n}\n\nfunction firePointerEvent(target: EventTarget, type: \"down\" | \"up\" | \"cancel\") {\n    target.dispatchEvent(\n        new PointerEvent(\"pointer\" + type, { isPrimary: true, bubbles: true })\n    )\n}\n\nexport const enableKeyboardPress = (\n    focusEvent: FocusEvent,\n    eventOptions: AddEventListenerOptions\n) => {\n    const element = focusEvent.currentTarget as HTMLElement\n    if (!element) return\n\n    const handleKeydown = filterEvents(() => {\n        if (isPressing.has(element)) return\n\n        firePointerEvent(element, \"down\")\n\n        const handleKeyup = filterEvents(() => {\n            firePointerEvent(element, \"up\")\n        })\n\n        const handleBlur = () => firePointerEvent(element, \"cancel\")\n\n        element.addEventListener(\"keyup\", handleKeyup, eventOptions)\n        element.addEventListener(\"blur\", handleBlur, eventOptions)\n    })\n\n    element.addEventListener(\"keydown\", handleKeydown, eventOptions)\n\n    /**\n     * Add an event listener that fires on blur to remove the keydown events.\n     */\n    element.addEventListener(\n        \"blur\",\n        () => element.removeEventListener(\"keydown\", handleKeydown),\n        eventOptions\n    )\n}\n"],"mappings":";;AAEA;;AAEG;AACH,SAASA,YAAYA,CAACC,QAAwC;EAC1D,OAAQC,KAAoB,IAAI;IAC5B,IAAIA,KAAK,CAACC,GAAG,KAAK,OAAO,EAAE;IAC3BF,QAAQ,CAACC,KAAK,CAAC;EACnB,CAAC;AACL;AAEA,SAASE,gBAAgBA,CAACC,MAAmB,EAAEC,IAA8B;EACzED,MAAM,CAACE,aAAa,CAChB,IAAIC,YAAY,CAAC,SAAS,GAAGF,IAAI,EAAE;IAAEG,SAAS,EAAE,IAAI;IAAEC,OAAO,EAAE;EAAI,CAAE,CAAC,CACzE;AACL;MAEaC,mBAAmB,GAAGA,CAC/BC,UAAsB,EACtBC,YAAqC,KACrC;EACA,MAAMC,OAAO,GAAGF,UAAU,CAACG,aAA4B;EACvD,IAAI,CAACD,OAAO,EAAE;EAEd,MAAME,aAAa,GAAGhB,YAAY,CAAC,MAAK;IACpC,IAAIiB,UAAU,CAACC,GAAG,CAACJ,OAAO,CAAC,EAAE;IAE7BV,gBAAgB,CAACU,OAAO,EAAE,MAAM,CAAC;IAEjC,MAAMK,WAAW,GAAGnB,YAAY,CAAC,MAAK;MAClCI,gBAAgB,CAACU,OAAO,EAAE,IAAI,CAAC;IACnC,CAAC,CAAC;IAEF,MAAMM,UAAU,GAAGA,CAAA,KAAMhB,gBAAgB,CAACU,OAAO,EAAE,QAAQ,CAAC;IAE5DA,OAAO,CAACO,gBAAgB,CAAC,OAAO,EAAEF,WAAW,EAAEN,YAAY,CAAC;IAC5DC,OAAO,CAACO,gBAAgB,CAAC,MAAM,EAAED,UAAU,EAAEP,YAAY,CAAC;EAC9D,CAAC,CAAC;EAEFC,OAAO,CAACO,gBAAgB,CAAC,SAAS,EAAEL,aAAa,EAAEH,YAAY,CAAC;EAEhE;;AAEG;EACHC,OAAO,CAACO,gBAAgB,CACpB,MAAM,EACN,MAAMP,OAAO,CAACQ,mBAAmB,CAAC,SAAS,EAAEN,aAAa,CAAC,EAC3DH,YAAY,CACf;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}