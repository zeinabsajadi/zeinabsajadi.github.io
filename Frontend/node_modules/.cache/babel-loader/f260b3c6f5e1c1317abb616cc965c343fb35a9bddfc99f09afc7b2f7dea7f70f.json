{"ast":null,"code":"import { isMotionValue } from '../../value/utils/is-motion-value.mjs';\nimport { DOMKeyframesResolver } from '../../animation/keyframes/DOMKeyframesResolver.mjs';\nimport { VisualElement } from '../VisualElement.mjs';\nclass DOMVisualElement extends VisualElement {\n  constructor() {\n    super(...arguments);\n    this.KeyframeResolver = DOMKeyframesResolver;\n  }\n  sortInstanceNodePosition(a, b) {\n    /**\n     * compareDocumentPosition returns a bitmask, by using the bitwise &\n     * we're returning true if 2 in that bitmask is set to true. 2 is set\n     * to true if b preceeds a.\n     */\n    return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n  }\n  getBaseTargetFromProps(props, key) {\n    const style = props.style;\n    return style ? style[key] : undefined;\n  }\n  removeValueFromRenderState(key, {\n    vars,\n    style\n  }) {\n    delete vars[key];\n    delete style[key];\n  }\n  handleChildMotionValue() {\n    if (this.childSubscription) {\n      this.childSubscription();\n      delete this.childSubscription;\n    }\n    const {\n      children\n    } = this.props;\n    if (isMotionValue(children)) {\n      this.childSubscription = children.on(\"change\", latest => {\n        if (this.current) {\n          this.current.textContent = `${latest}`;\n        }\n      });\n    }\n  }\n}\nexport { DOMVisualElement };","map":{"version":3,"names":["DOMVisualElement","VisualElement","constructor","KeyframeResolver","DOMKeyframesResolver","sortInstanceNodePosition","a","b","compareDocumentPosition","getBaseTargetFromProps","props","key","style","undefined","removeValueFromRenderState","vars","handleChildMotionValue","childSubscription","children","isMotionValue","on","latest","current","textContent"],"sources":["/home/zeinab/ziblog/Frontend/node_modules/motion-dom/src/render/dom/DOMVisualElement.ts"],"sourcesContent":["import { isMotionValue } from \"../../value/utils/is-motion-value\"\nimport type { MotionValue } from \"../../value\"\nimport type { AnyResolvedKeyframe } from \"../../animation/types\"\nimport { DOMKeyframesResolver } from \"../../animation/keyframes/DOMKeyframesResolver\"\nimport type { MotionNodeOptions } from \"../../node/types\"\nimport type { DOMVisualElementOptions } from \"./types\"\nimport type { HTMLRenderState } from \"../html/types\"\nimport { VisualElement, MotionStyle } from \"../VisualElement\"\n\nexport abstract class DOMVisualElement<\n    Instance extends HTMLElement | SVGElement = HTMLElement,\n    State extends HTMLRenderState = HTMLRenderState,\n    Options extends DOMVisualElementOptions = DOMVisualElementOptions\n> extends VisualElement<Instance, State, Options> {\n    sortInstanceNodePosition(a: Instance, b: Instance): number {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1\n    }\n\n    getBaseTargetFromProps(\n        props: MotionNodeOptions,\n        key: string\n    ): AnyResolvedKeyframe | MotionValue<any> | undefined {\n        const style = (props as MotionNodeOptions & { style?: MotionStyle }).style\n        return style ? (style[key] as string) : undefined\n    }\n\n    removeValueFromRenderState(\n        key: string,\n        { vars, style }: HTMLRenderState\n    ): void {\n        delete vars[key]\n        delete style[key]\n    }\n\n    KeyframeResolver = DOMKeyframesResolver\n\n    childSubscription?: VoidFunction\n    handleChildMotionValue() {\n        if (this.childSubscription) {\n            this.childSubscription()\n            delete this.childSubscription\n        }\n\n        const { children } = this.props as MotionNodeOptions & { children?: MotionValue | any }\n        if (isMotionValue(children)) {\n            this.childSubscription = children.on(\"change\", (latest) => {\n                if (this.current) {\n                    this.current.textContent = `${latest}`\n                }\n            })\n        }\n    }\n}\n"],"mappings":";;;AASM,MAAgBA,gBAIpB,SAAQC,aAAuC;EAJjDC,YAAA;;IA8BI,IAAgB,CAAAC,gBAAA,GAAGC,oBAAoB;;EAzBvCC,wBAAwBA,CAACC,CAAW,EAAEC,CAAW;IAC7C;;;;AAIG;IACH,OAAOD,CAAC,CAACE,uBAAuB,CAACD,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;EAGpDE,sBAAsBA,CAClBC,KAAwB,EACxBC,GAAW;IAEX,MAAMC,KAAK,GAAIF,KAAqD,CAACE,KAAK;IAC1E,OAAOA,KAAK,GAAIA,KAAK,CAACD,GAAG,CAAY,GAAGE,SAAS;;EAGrDC,0BAA0BA,CACtBH,GAAW,EACX;IAAEI,IAAI;IAAEH;EAAK,CAAmB;IAEhC,OAAOG,IAAI,CAACJ,GAAG,CAAC;IAChB,OAAOC,KAAK,CAACD,GAAG,CAAC;;EAMrBK,sBAAsBA,CAAA;IAClB,IAAI,IAAI,CAACC,iBAAiB,EAAE;MACxB,IAAI,CAACA,iBAAiB,EAAE;MACxB,OAAO,IAAI,CAACA,iBAAiB;;IAGjC,MAAM;MAAEC;IAAQ,CAAE,GAAG,IAAI,CAACR,KAA6D;IACvF,IAAIS,aAAa,CAACD,QAAQ,CAAC,EAAE;MACzB,IAAI,CAACD,iBAAiB,GAAGC,QAAQ,CAACE,EAAE,CAAC,QAAQ,EAAGC,MAAM,IAAI;QACtD,IAAI,IAAI,CAACC,OAAO,EAAE;UACd,IAAI,CAACA,OAAO,CAACC,WAAW,GAAG,GAAGF,MAAM,EAAE;;MAE9C,CAAC,CAAC;;;AAGb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}