{"ast":null,"code":"import { addUniqueItem, removeItem } from './array.mjs';\nclass SubscriptionManager {\n  constructor() {\n    this.subscriptions = [];\n  }\n  add(handler) {\n    addUniqueItem(this.subscriptions, handler);\n    return () => removeItem(this.subscriptions, handler);\n  }\n  notify(a, b, c) {\n    const numSubscriptions = this.subscriptions.length;\n    if (!numSubscriptions) return;\n    if (numSubscriptions === 1) {\n      /**\n       * If there's only a single handler we can just call it without invoking a loop.\n       */\n      this.subscriptions[0](a, b, c);\n    } else {\n      for (let i = 0; i < numSubscriptions; i++) {\n        /**\n         * Check whether the handler exists before firing as it's possible\n         * the subscriptions were modified during this loop running.\n         */\n        const handler = this.subscriptions[i];\n        handler && handler(a, b, c);\n      }\n    }\n  }\n  getSize() {\n    return this.subscriptions.length;\n  }\n  clear() {\n    this.subscriptions.length = 0;\n  }\n}\nexport { SubscriptionManager };","map":{"version":3,"names":["SubscriptionManager","constructor","subscriptions","add","handler","addUniqueItem","removeItem","notify","a","b","c","numSubscriptions","length","i","getSize","clear"],"sources":["/home/zeinab/ziblog/Frontend/node_modules/motion-utils/src/subscription-manager.ts"],"sourcesContent":["import { addUniqueItem, removeItem } from \"./array\"\n\ntype GenericHandler = (...args: any) => void\n\nexport class SubscriptionManager<Handler extends GenericHandler> {\n    private subscriptions: Handler[] = []\n\n    add(handler: Handler): VoidFunction {\n        addUniqueItem(this.subscriptions, handler)\n        return () => removeItem(this.subscriptions, handler)\n    }\n\n    notify(\n        a?: Parameters<Handler>[0],\n        b?: Parameters<Handler>[1],\n        c?: Parameters<Handler>[2]\n    ) {\n        const numSubscriptions = this.subscriptions.length\n\n        if (!numSubscriptions) return\n\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c)\n        } else {\n            for (let i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                const handler = this.subscriptions[i]\n                handler && handler(a, b, c)\n            }\n        }\n    }\n\n    getSize() {\n        return this.subscriptions.length\n    }\n\n    clear() {\n        this.subscriptions.length = 0\n    }\n}\n"],"mappings":";MAIaA,mBAAmB;EAAhCC,YAAA;IACY,IAAa,CAAAC,aAAA,GAAc,EAAE;;EAErCC,GAAGA,CAACC,OAAgB;IAChBC,aAAa,CAAC,IAAI,CAACH,aAAa,EAAEE,OAAO,CAAC;IAC1C,OAAO,MAAME,UAAU,CAAC,IAAI,CAACJ,aAAa,EAAEE,OAAO,CAAC;;EAGxDG,MAAMA,CACFC,CAA0B,EAC1BC,CAA0B,EAC1BC,CAA0B;IAE1B,MAAMC,gBAAgB,GAAG,IAAI,CAACT,aAAa,CAACU,MAAM;IAElD,IAAI,CAACD,gBAAgB,EAAE;IAEvB,IAAIA,gBAAgB,KAAK,CAAC,EAAE;MACxB;;AAEG;MACH,IAAI,CAACT,aAAa,CAAC,CAAC,CAAC,CAACM,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;KACjC,MAAM;MACH,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,gBAAgB,EAAEE,CAAC,EAAE,EAAE;QACvC;;;AAGG;QACH,MAAMT,OAAO,GAAG,IAAI,CAACF,aAAa,CAACW,CAAC,CAAC;QACrCT,OAAO,IAAIA,OAAO,CAACI,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;;;;EAKvCI,OAAOA,CAAA;IACH,OAAO,IAAI,CAACZ,aAAa,CAACU,MAAM;;EAGpCG,KAAKA,CAAA;IACD,IAAI,CAACb,aAAa,CAACU,MAAM,GAAG,CAAC;;AAEpC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}