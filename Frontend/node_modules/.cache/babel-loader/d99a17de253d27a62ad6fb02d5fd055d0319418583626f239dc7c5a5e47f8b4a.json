{"ast":null,"code":"import { isCSSVariableName } from '../../animation/utils/is-css-variable.mjs';\nimport { transformProps } from '../utils/keys-transform.mjs';\nimport { defaultTransformValue, readTransformValue } from '../dom/parse-transform.mjs';\nimport { measureViewportBox } from '../../projection/utils/measure.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { renderHTML } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nfunction getComputedStyle(element) {\n  return window.getComputedStyle(element);\n}\nclass HTMLVisualElement extends DOMVisualElement {\n  constructor() {\n    super(...arguments);\n    this.type = \"html\";\n    this.renderInstance = renderHTML;\n  }\n  readValueFromInstance(instance, key) {\n    if (transformProps.has(key)) {\n      return this.projection?.isProjecting ? defaultTransformValue(key) : readTransformValue(instance, key);\n    } else {\n      const computedStyle = getComputedStyle(instance);\n      const value = (isCSSVariableName(key) ? computedStyle.getPropertyValue(key) : computedStyle[key]) || 0;\n      return typeof value === \"string\" ? value.trim() : value;\n    }\n  }\n  measureInstanceViewportBox(instance, {\n    transformPagePoint\n  }) {\n    return measureViewportBox(instance, transformPagePoint);\n  }\n  build(renderState, latestValues, props) {\n    buildHTMLStyles(renderState, latestValues, props.transformTemplate);\n  }\n  scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n    return scrapeMotionValuesFromProps(props, prevProps, visualElement);\n  }\n}\nexport { HTMLVisualElement, getComputedStyle };","map":{"version":3,"names":["getComputedStyle","element","window","HTMLVisualElement","DOMVisualElement","constructor","type","renderInstance","renderHTML","readValueFromInstance","instance","key","transformProps","has","projection","isProjecting","defaultTransformValue","readTransformValue","computedStyle","value","isCSSVariableName","getPropertyValue","trim","measureInstanceViewportBox","transformPagePoint","measureViewportBox","build","renderState","latestValues","props","buildHTMLStyles","transformTemplate","scrapeMotionValuesFromProps","prevProps","visualElement"],"sources":["/home/zeinab/ziblog/Frontend/node_modules/motion-dom/src/render/html/HTMLVisualElement.ts"],"sourcesContent":["import type { Box } from \"motion-utils\"\nimport type { AnyResolvedKeyframe } from \"../../animation/types\"\nimport { isCSSVariableName } from \"../../animation/utils/is-css-variable\"\nimport type { MotionNodeOptions } from \"../../node/types\"\nimport { transformProps } from \"../utils/keys-transform\"\nimport {\n    defaultTransformValue,\n    readTransformValue,\n} from \"../dom/parse-transform\"\nimport { measureViewportBox } from \"../../projection/utils/measure\"\nimport { DOMVisualElement } from \"../dom/DOMVisualElement\"\nimport type { DOMVisualElementOptions } from \"../dom/types\"\nimport type { ResolvedValues, MotionConfigContextProps } from \"../types\"\nimport type { VisualElement } from \"../VisualElement\"\nimport { HTMLRenderState } from \"./types\"\nimport { buildHTMLStyles } from \"./utils/build-styles\"\nimport { renderHTML } from \"./utils/render\"\nimport { scrapeMotionValuesFromProps } from \"./utils/scrape-motion-values\"\n\nexport function getComputedStyle(element: HTMLElement) {\n    return window.getComputedStyle(element)\n}\n\nexport class HTMLVisualElement extends DOMVisualElement<\n    HTMLElement,\n    HTMLRenderState,\n    DOMVisualElementOptions\n> {\n    type = \"html\"\n\n    readValueFromInstance(\n        instance: HTMLElement,\n        key: string\n    ): AnyResolvedKeyframe | null | undefined {\n        if (transformProps.has(key)) {\n            return this.projection?.isProjecting\n                ? defaultTransformValue(key)\n                : readTransformValue(instance, key)\n        } else {\n            const computedStyle = getComputedStyle(instance)\n            const value =\n                (isCSSVariableName(key)\n                    ? computedStyle.getPropertyValue(key)\n                    : computedStyle[key as keyof typeof computedStyle]) || 0\n\n            return typeof value === \"string\" ? value.trim() : (value as number)\n        }\n    }\n\n    measureInstanceViewportBox(\n        instance: HTMLElement,\n        { transformPagePoint }: MotionNodeOptions & Partial<MotionConfigContextProps>\n    ): Box {\n        return measureViewportBox(instance, transformPagePoint)\n    }\n\n    build(\n        renderState: HTMLRenderState,\n        latestValues: ResolvedValues,\n        props: MotionNodeOptions\n    ) {\n        buildHTMLStyles(renderState, latestValues, props.transformTemplate)\n    }\n\n    scrapeMotionValuesFromProps(\n        props: MotionNodeOptions,\n        prevProps: MotionNodeOptions,\n        visualElement: VisualElement\n    ) {\n        return scrapeMotionValuesFromProps(props, prevProps, visualElement)\n    }\n\n    renderInstance = renderHTML\n}\n"],"mappings":";;;;;;;;AAmBM,SAAUA,gBAAgBA,CAACC,OAAoB;EACjD,OAAOC,MAAM,CAACF,gBAAgB,CAACC,OAAO,CAAC;AAC3C;AAEM,MAAOE,iBAAkB,SAAQC,gBAItC;EAJDC,YAAA;;IAKI,IAAI,CAAAC,IAAA,GAAG,MAAM;IA4Cb,IAAc,CAAAC,cAAA,GAAGC,UAAU;;EA1C3BC,qBAAqBA,CACjBC,QAAqB,EACrBC,GAAW;IAEX,IAAIC,cAAc,CAACC,GAAG,CAACF,GAAG,CAAC,EAAE;MACzB,OAAO,IAAI,CAACG,UAAU,EAAEC,YAAY,GAC9BC,qBAAqB,CAACL,GAAG,CAAC,GAC1BM,kBAAkB,CAACP,QAAQ,EAAEC,GAAG,CAAC;KAC1C,MAAM;MACH,MAAMO,aAAa,GAAGlB,gBAAgB,CAACU,QAAQ,CAAC;MAChD,MAAMS,KAAK,GACP,CAACC,iBAAiB,CAACT,GAAG,CAAC,GACjBO,aAAa,CAACG,gBAAgB,CAACV,GAAG,CAAC,GACnCO,aAAa,CAACP,GAAiC,CAAC,KAAK,CAAC;MAEhE,OAAO,OAAOQ,KAAK,KAAK,QAAQ,GAAGA,KAAK,CAACG,IAAI,EAAE,GAAIH,KAAgB;;;EAI3EI,0BAA0BA,CACtBb,QAAqB,EACrB;IAAEc;EAAkB,CAAyD;IAE7E,OAAOC,kBAAkB,CAACf,QAAQ,EAAEc,kBAAkB,CAAC;;EAG3DE,KAAKA,CACDC,WAA4B,EAC5BC,YAA4B,EAC5BC,KAAwB;IAExBC,eAAe,CAACH,WAAW,EAAEC,YAAY,EAAEC,KAAK,CAACE,iBAAiB,CAAC;;EAGvEC,2BAA2BA,CACvBH,KAAwB,EACxBI,SAA4B,EAC5BC,aAA4B;IAE5B,OAAOF,2BAA2B,CAACH,KAAK,EAAEI,SAAS,EAAEC,aAAa,CAAC;;AAI1E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}